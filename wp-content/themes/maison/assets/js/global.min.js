!function(n){var i=0;function a(t,e){this.removeData(t),e.call(this[0])}n.fn.onScrolling=function(t){var e="scrollingTimer"+i++;this.on("mousewheel DOMMouseScroll scroll",function(t,e){var n;this.data(t)||(n=setTimeout(a.bind(this,t,e),50),this.data(t,n)),a.call(this,t,e)}.bind(n(this),e,t))}}(jQuery),function(a){function t(t){var e=this,t=(this.slider=t,this.$slider=a(t),this.currenSlideIndex=0,this.slides=a.map(this.$slider.find(".collection-slide"),function(t){return a(t)}),this.$slider.find(".paging-panel"));t.on("click","a",function(t){t.preventDefault();t=a(this),t=a(t).index();e.showAt(t)}),this.pages=t.find("a");for(var n=1;n<this.slides.length;++n){var i=this.slides[n];this._placeDown(i)}this.$slider.find(".js-up-trigger").on("click",function(t){t.preventDefault(),e.up()}),this.$slider.find(".js-down-trigger").on("click",function(t){t.preventDefault(),e.down()}),window.setInterval(function(){e.down()},6e3),this._selectCurrentPage()}t.prototype._placeUp=function(t,e){e?t.addClass("collection-slide--animating"):t.removeClass("collection-slide--animating"),t.removeClass("collection-slide--down").addClass("collection-slide--up")},t.prototype._placeDown=function(t,e){e?t.addClass("collection-slide--animating"):t.removeClass("collection-slide--animating"),t.removeClass("collection-slide--up").addClass("collection-slide--down")},t.prototype._placeMiddle=function(t,e){e?t.addClass("collection-slide--animating"):t.removeClass("collection-slide--animating"),t.removeClass("collection-slide--up").removeClass("collection-slide--down")},t.prototype._animateLeaveUp=function(t){this._placeMiddle(t);var e=this;setTimeout(function(){e._placeUp(t,!0)},0)},t.prototype._animateLeaveDown=function(t){this._placeMiddle(t);var e=this;setTimeout(function(){e._placeDown(t,!0)},0)},t.prototype._animateEnterDown=function(t){this._placeDown(t);var e=this;setTimeout(function(){e._placeMiddle(t,!0)},0)},t.prototype._animateEnterUp=function(t){this._placeUp(t);var e=this;setTimeout(function(){e._placeMiddle(t,!0)},0)},t.prototype.up=function(){var t=this.slides[this.currenSlideIndex],e=(this.currenSlideIndex--,this.currenSlideIndex<0&&(this.currenSlideIndex=this.slides.length-1),this.slides[this.currenSlideIndex]);this._animateLeaveUp(t),this._animateEnterDown(e),this._selectCurrentPage()},t.prototype.down=function(){var t=this.slides[this.currenSlideIndex],e=(this.currenSlideIndex++,this.currenSlideIndex>=this.slides.length&&(this.currenSlideIndex=0),this.slides[this.currenSlideIndex]);this._animateLeaveDown(t),this._animateEnterUp(e),this._selectCurrentPage()},t.prototype.showAt=function(t){var e,n;this.currenSlideIndex!==t&&(e=this.slides[this.currenSlideIndex],n=this.slides[t],this.currenSlideIndex<t?(this._animateLeaveUp(e),this._animateEnterDown(n)):(this._animateLeaveDown(e),this._animateEnterUp(n)),this.currenSlideIndex=t,this._selectCurrentPage())},t.prototype._selectCurrentPage=function(){a(this.pages.removeClass("selected").get(this.currenSlideIndex)).addClass("selected")},a.fn.collectionsSlider=function(){return this.each(function(){new t(this)})}}(jQuery),function(l){function t(t){var a=this,t=l(t),s=location.hash,e="a[data-tab]",o="tab--selected",r="tab-content--selected";this.allTabs=t.find(e),this.allTabTargets=l(),this.tabTargetsMap={},this.allTabs.each(function(){var t=l(this),e=t.attr("href"),n=e.slice(1),i=l(e);s&&(e===s?(t.addClass(o),i.addClass(r)):(t.removeClass(o),i.removeClass(r))),i.removeAttr("id"),a.allTabTargets=a.allTabTargets.add(i),a.tabTargetsMap[n]=i}),t.on("click",e,function(){var t,e=l(this);e.hasClass(o)||(t=e.attr("href").slice(1),t=a.tabTargetsMap[t],a.allTabs.removeClass(o),a.allTabTargets.removeClass(r),e.addClass(o),t.addClass(r))})}l.fn.tabs=function(){return this.each(function(){new t(this)})}}(jQuery),function(r){var t=r(window),n=(r(document),r(".nav-top")),e=r(".nav-mobile-menu"),i=n.data("normalClass"),a=n.data("condensedClass");function s(){var t=window.scrollY||window.pageYOffset,e=n.data("sticked");300<t?e||(n.data("sticked",!0),n.stop().css({opacity:0,position:"fixed"}).removeClass(i).addClass(a).animate({opacity:1},300,"swing")):e&&(n.data("sticked",!1),n.stop().animate({opacity:0},300,"swing",function(){n.removeClass(a).addClass(i).css({opacity:1,position:"absolute"})}))}function o(t,e){return"portrait"===(e=e||"landscape")?16*t/9:9*t/16}s(),t.onScrolling(s),r(".js-nav-mobile-menu-toggle").click(function(){e.toggleClass("nav-mobile-menu--collapsed")}),r(".scroll-home").click(function(t){t.preventDefault(),r("html, body").stop().animate({scrollTop:0},"1000","swing")}),r("[data-smooth-scroll]").on("click",function(t){var e=r(r.attr(this,"href")).offset().top;r("html, body").animate({scrollTop:e},500,"swing")});var l=document.createElement("script"),c=(l.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]),d=(c.parentNode.insertBefore(l,c),youtubePlayers=[],window.onYouTubeIframeAPIReady=function(){r(".js-youtubevideo").each(function(t,e){var n=r(e),i=n.data("id"),a=n.data("orientation"),n=n.width(),a=o(n,a);new YT.Player(e,{videoId:i,width:n,height:a,playerVars:{autoplay:1,controls:0,enablejsapi:1,modestbranding:1,rel:0,showinfo:0},events:{onReady:function(t){youtubePlayers.push(t.target),t.target.mute(),t.target.setLoop(!0)},onStateChange:function(t){t.data===YT.PlayerState.ENDED&&t.target.playVideo()}}})})},t.on("resize",function(){youtubePlayers&&youtubePlayers.forEach(function(t){var e=r(t.getIframe()),n=e.parent(),e=e.data("orientation"),n=n.width(),e=o(n,e);t.setSize(n,e)})}),r(".collections-slider").collectionsSlider(),r(".tabbed-control").tabs(),"#product-");function u(t){t.preventDefault();t=r.attr(this,"href");t&&t.length>d.length&&0===t.indexOf(d)&&(window.history&&window.history.pushState?window.history.pushState(null,null,t):window.location.hash=t,f(t))}var h=r("[data-quick-view]").on("click",u).map(function(t,e){return e.getAttribute("href")}).toArray();function f(o){var t=o.substring(d.length);r.ajax({url:maison_frontend_data.ajaxUrl,data:{action:"maison_load_product_quick_view",product_slug:t},dataType:"html",type:"POST",success:function(t){var e=function(t){t=h.indexOf(t);if(t<1)return null;return h[t-1]}(o),n=function(t){t=h.indexOf(t);if(-1===t||t>=h.length-1)return null;return h[t+1]}(o),i=lity(t),t=i.element(),a=(t.addClass("product"),t.find("[data-prev-product]")),s=t.find("[data-next-product]");e?a.attr("href",e):a.hide(),n?s.attr("href",n):s.hide(),a.add(s).on("click",function(t){i.close(),u.call(this,t)}),"undefined"!=typeof wc_add_to_cart_variation_params&&t.find(".variations_form").each(function(){r(this).wc_variation_form()}),g.init({content:t.get(0).querySelectorAll(".js-read-more")})}})}var l=window.location.hash,p=(l&&0===l.indexOf(d)&&!r(".woocommerce-message, .woocommerce-error, .woocommerce-info").length&&f(l),r(".mc4wp-form").on("submit",function(t){t.preventDefault();var e=this.id,t=r(this),n=t.serialize(),i=t.find("[type=submit]");i.each(function(){this.disabled=!0,r(this).addClass("disabled")}),r.post("",n,function(t){t=r(t).find("#"+e+" .mc4wp-response .mc4wp-alert"),t='<div class="subscription-message u-tac"><h1 class="u-fs30 u-mb3">'+(t.is(".mc4wp-success")?maison_frontend_data.thank_you_for_subs:maison_frontend_data.error_on_subs)+'</h1><p class="u-mb5">'+t.text()+'</p><button type="button" class="btn btn-main" data-lity-close>'+maison_frontend_data.ok_thanks+"</button></div>";lity(t)}).always(function(){i.each(function(){this.disabled=!1,r(this).removeClass("disabled")})})}),r(document).on("change",".shop_table .qty",function(){r('.shop_table input[name="update_cart"]').trigger("click")}),"sub-menu--open");function m(){r("."+p).removeClass(p),r(document.body).off("click",m)}r(document.body).on("click",".menu-item-has-children > a",function(t){t.preventDefault();t=r(this).siblings(".sub-menu");t.toggleClass(p),t.hasClass(p)&&r(document.body).on("click",m)});var v,g={settings:function(t){return{content:(t=t||{}).content||document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:maison_frontend_data.read_more,lessLink:maison_frontend_data.read_less}},init:function(t){(v=this.settings(t)).content&&v.content.length&&this.bindEvents()},bindEvents:function(){g.truncateText()},countWords:function(t){return t.split(/\s+/).length},ellipseContent:function(t,e){return t.split(/\s+/).slice(0,e).join(" ")+"..."},truncateText:function(){for(var t=0;t<v.content.length;t++){var e=v.content[t].innerHTML,n=v.content[t].dataset.rmWords,i=g.ellipseContent(e,n),a=g.countWords(e);v.originalContentArr.push(e),v.truncatedContentArr.push(i),n<a&&(v.content[t].classList.add("read-more"),v.content[t].innerHTML=v.truncatedContentArr[t],e=t,g.createLink(e))}g.handleClick(v.content)},createLink:function(t){var e=document.createElement("span");e.className="read-more__link-wrap",e.innerHTML='<a id="read-more_'+t+'" class="read-more__link" style="cursor:pointer;">'+v.moreLink+"</a>",v.content[t].parentNode.insertBefore(e,v.content[t].nextSibling)},handleClick:function(e){for(var t=document.querySelectorAll(".read-more__link"),n=0,i=t.length;n<i;n++)t[n].addEventListener("click",function(){var t=this.getAttribute("id").split("_")[1];e[t].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(e[t].innerHTML=v.originalContentArr[t],this.innerHTML=v.lessLink,this.dataset.clicked=!0):(e[t].innerHTML=v.truncatedContentArr[t],this.innerHTML=v.moreLink,this.dataset.clicked=!1)})},openAll:function(){el=document.querySelectorAll(".read-more__link");for(var t=0;t<el.length;t++)content[t].innerHTML=v.truncatedContentArr[t],el[t].innerHTML=v.moreLink}};g.init(),r(function(){r(".lity-modal-notice").each(function(){lity(this.parentElement)})})}(jQuery);